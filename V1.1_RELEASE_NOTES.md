# Night Driver v1.1.0 Release Notes

**Release Date**: December 26, 2025  
**Tag**: `v1.1.0`  
**Commit**: `3d53b47`

## Overview

Version 1.1.0 introduces a **three-theme system** with distinct visual identities and layouts, giving drivers the power to customize their experience. The update also significantly enhances event presentation with thumbnails, urgency sorting, and real-time status indicators.

---

## ğŸ¨ New Features

### Three Distinct Themes

Choose between three professionally designed themes, each with its own layout and visual style:

#### 1. **Neon Cockpit** (Default)
- **Layout**: Map-first cockpit with bottom tab rail
- **Style**: High-contrast cyberpunk aesthetic with neon glows
- **Best For**: Drivers who want maximum map visibility with quick access to all data
- **Key Features**:
  - Full-height map
  - Hero card as compact overlay
  - Bottom tab rail: Forecast / Live / Events / Zones
  - High-contrast neon colors (pink, cyan, orange)

#### 2. **Pro Dashboard**
- **Layout**: Two-column split (map left, panels right)
- **Style**: Clean, minimal, professional
- **Best For**: Desktop users who want a traditional dashboard layout
- **Key Features**:
  - Sticky map on left column
  - Stacked info panels on right
  - Reduced glow effects
  - Calmer color palette (blues, ambers, roses)
  - Better whitespace and separator lines

#### 3. **Game HUD**
- **Layout**: Full-screen map with floating widgets
- **Style**: Gamified HUD overlays with strong borders
- **Best For**: Drivers who want a futuristic, immersive experience
- **Key Features**:
  - Full-screen map canvas
  - Floating widgets with HUD corners
  - Toggle-able panels (Mission, Intel, Events, Zones)
  - Purple/pink accent colors
  - Stronger borders with glowing effects

### Theme Persistence
- Your theme choice is **saved to localStorage**
- Persists across browser sessions
- Instant theme switching via header dropdown
- No page reload required

---

## ğŸ‰ Enhanced Event Presentation

### Event Thumbnails
- Events now display **official poster/promo images** from Ticketmaster
- Fallback to iconic emoji for events without images
- Images optimized for 16:9 aspect ratio

### Urgency Sorting
Events are now sorted by urgency:
1. **Ending Soon** (< 2 hours left) - Red/Pink highlight
2. **Starting Soon** (< 2 hours away) - Orange highlight
3. **Live Now** - Pulsing green indicator
4. **Later Today** - Standard display

### Boost Badges
Each event shows:
- **Zone being boosted** (e.g., "Downtown")
- **Estimated boost value** (e.g., "+40 pts")
- Based on event type and timing

### Clickable Events
- Click any event to open **Ticketmaster page** in new tab
- Direct link to buy tickets or get more info

---

## ğŸ—ºï¸ Map Enhancements

### Theme-Aware Event Markers
- Event markers now adapt to your chosen theme
- **Urgency rings** for events starting/ending soon
- Pulsing animations for high-urgency events
- Larger hit targets for better mobile interaction

### Improved Tooltips
- Event tooltips now show **event images**
- Real-time status ("Ends in 45m", "Starts in 1h")
- Better visual hierarchy

---

## ğŸ—ï¸ Architecture Changes

### New Theme System
- **Theme Store**: Zustand store with localStorage persistence
- **Theme Tokens**: Centralized design tokens (colors, borders, spacing, effects)
- **useTheme Hook**: Simple API for accessing current theme

### Layout Architecture
- **AppLayout**: Smart layout selector based on theme
- **Three Layout Components**: One for each theme
- **Shared Props**: Consistent data flow across all layouts

### Component Refactoring
All major components now use theme tokens:
- `TopPickCard`
- `Leaderboard`
- `ForecastTimeline`
- `LiveConditions`
- `EventsPanel`
- `ZoneDetailSheet`
- `SeattleMap`

---

## ğŸ“Š Data Enhancements

### Event Schema Updates
```typescript
interface Event {
  // ... existing fields
  imageUrl?: string;  // NEW: Event poster image
  url?: string;       // NEW: Ticketmaster event page
  type?: 'sports' | 'concert' | 'conference' | 'festival' | 'other';
}
```

### Forecast Schema Updates
```typescript
interface ForecastPoint {
  time: string;
  hour: number;  // NEW: Hour of day (0-23)
  topZones: Array<{ id: string; name: string; score: number }>;
}
```

---

## ğŸ› Bug Fixes

- Fixed TypeScript compilation errors across frontend and backend
- Fixed notification vibration API usage (now properly separated)
- Improved null/undefined handling in multiple components
- Fixed theme token application in nested components

---

## ğŸš€ Performance

- Frontend build: **545 KB** (gzipped: 166 KB)
- No new dependencies added
- Efficient theme switching (no re-renders of unaffected components)
- Lazy-loaded images for better performance

---

## ğŸ”§ Technical Details

### Dependencies (No Changes)
- React 18 + Vite
- Zustand (already in use)
- Tailwind CSS
- Framer Motion
- Leaflet
- Socket.io Client

### Backwards Compatibility
- **Theme defaults to "Neon Cockpit"** (original design)
- Existing users will see no change unless they switch themes
- All previous features remain functional
- API endpoints unchanged

---

## ğŸ“– Usage

### Switching Themes

1. Click the **Palette icon** in the header (between weather and help)
2. Select your preferred theme:
   - Neon Cockpit
   - Pro Dashboard
   - Game HUD
3. Theme applies instantly and persists across sessions

### Best Practices

- **Mobile**: Neon Cockpit or Game HUD (optimized for one-handed use)
- **Desktop**: Pro Dashboard (best use of screen real estate)
- **Night Driving**: Neon Cockpit or Game HUD (darker themes)
- **Daytime**: Pro Dashboard (cleaner, less eye strain)

---

## ğŸ”® Future Roadmap

- Custom theme editor (choose your own colors)
- More layout variants (e.g., List-first, Compact)
- Theme presets for accessibility (high contrast, large text)
- Community themes

---

## ğŸ‘ Credits

**Built by**: AI Assistant (Claude Sonnet 4.5)  
**Requested by**: User  
**Design Philosophy**: Action-first UX for professional drivers

---

## ğŸ“ Upgrade Instructions

1. Pull the latest code: `git pull origin master`
2. Checkout the tag: `git checkout v1.1.0`
3. No dependency changes, so no need to reinstall
4. Restart your servers
5. Open the app and explore the new themes!

---

**Enjoy the new themes! ğŸ¨ğŸš—ğŸ’¨**

